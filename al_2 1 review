#include <stdio.h>
#include <queue>
#include <string>
#include <iostream>
using namespace std; 

int main()
{
	int n;
	scanf("%d",&n);
	
	string a[n+1];
	queue <char> b[n+1];
	
	for(int i = 0;i < n;i++)
	{
		cin >> a[i];
		for(int j = 0;j < a[i].length();j++)
		{
			b[i].push(a[i][j]);
		}
		
	}
	
	int check = 0;
	int cnt[3];
	cnt[0] = 0;
	cnt[1] = 0;
	cnt[2] = 0;
	
	for(int i = 0;i < n;i++)
	{
		check = 0;
		for(int j = 0;j < a[i].length();j++)
		{
			
			if(b[i].front() == '(')
			{
				b[i].pop();
				cnt[0]++;
				if(b[i].front() == '}')
				{
					check++;
					cnt[1]++;
					break;
				}
				else if(b[i].front() == ']')
				{
					check++;
					cnt[2]++;
					break;
				}
			
			}
			if(b[i].front() == '{')
			{
				b[i].pop();
				cnt[1]++;
				if(b[i].front() == ')')
				{
					
					check++;
					cnt[0]++;
					break;
				}
				else if(b[i].front() == ']')
				{
					check++;
					cnt[2]++;
					break;
				}
			}
			if(b[i].front() == '[')
			{
				b[i].pop();
				cnt[2]++;
				if(b[i].front() == ')')
				{
					
					check++;
					cnt[0]++;
					break;
				}
				else if(b[i].front() == '}')
				{
					check++;
					cnt[1]++;
					break;
				}
			}
			
		}
	
		
	if(check == 0 && cnt[0] % 2 == 0 && cnt[1] %2 == 0 && cnt[2] % 2 == 0)
	{
		printf("YES");
		printf("\n");
	}
	else
	{
		printf("NO");
		printf("\n");
	}
		
	}

}
