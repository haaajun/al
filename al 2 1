//#include <stdio.h>
//#include <algorithm>
//#include <string>
//#include <iostream>
//using namespace std;
//
//bool cmp(string left,string right)
//{
//	
//	int c = 0,d = 0;
//	
//	if(left.length() < right.length())
//	{
//		return true;
//	}
//	else if(left.length() > right.length())
//	{
//		return false;
//	}
//	else{
//		for(int i = 0;i < left.length();i++)
//		{
//			if(0 <= left[i] < 63)
//			{
//				c += left[i] - 48;
//			}
//			if(0 <= right[i] < 63)
//			{
//				d += right[i] - 48;
//			}
//		}
//		if(c > d)
//		{
//			return true;
//		}
//		else if(c < d)
//		{
//			return false;
//		}
//		else {
//			return left > right;
//		}
//	}
//}
//
//int main()
//{
//	int n;
//	scanf("%d",&n);
//	
//	string a[51];
//	
//	for(int i = 0;i < n;i++)
//	{	
//		cin >> a[i];
//	}
//	
//	string b[51];
//	
//	for(int i = 0;i < n;i++)
//	{
//		b[i] = a[i];
//	}
//	
//	sort(b,b+n,cmp);
//	
//	for(int i = 0;i < n;i++)
//	{
//		cout << b[i];
//		printf("\n");
//	}
//}

#include <stdio.h>
#include <stack>
#include <string>
#include <iostream>
using namespace std; 

int main()
{
	int n;
	scanf("%d",&n);
	
	string a[n+1];
	stack <char> b[n+1];
	
	for(int i = 0;i < n;i++)
	{
		cin >> a[i];
		for(int j = 0;j < a[i].length();j++)
		{
			b[i].push(a[i][j]);
		}
		
	}
	
	int cnt = 0;
	
	for(int i = 0;i < n;i++)
	{
		for(int j = 0;j < a[i].length();j++)
		{
			if(b[i].top() == '(')
			{
				b[i].pop();
				if(b[i].top() == '}' || b[i].top() == ']')
				{
					printf("NO");
					cnt++;
					break;
				}
			}
			if(b[i].top() == '{')
			{
				b[i].pop();
				if(b[i].top() == ')' || b[i].top() == ']')
				{
					printf("NO");
					cnt++;
					break;
				}
			}
			if(b[i].top() == '[')
			{
				b[i].pop();
				if(b[i].top() == ')' || b[i].top() == '}')
				{
					printf("NO");
					cnt++;
					break;
				}
			}
			
		}
		if(cnt != 1)
		{
			printf("YES");
			printf("\n");
		}
		cnt = 0;
	}
}
